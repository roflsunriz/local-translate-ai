# Local Translate AI

llama.cppã§ãƒ›ã‚¹ãƒˆã—ãŸãƒ­ãƒ¼ã‚«ãƒ«LLMã‚’ä½¿ç”¨ã—ã¦ç¿»è¨³ã‚’è¡Œã†Firefoxæ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚OpenAIäº’æ›APIã¨Anthropic Messages APIã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

![Cover](./images/General.png)

ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚®ãƒ£ãƒ©ãƒªãƒ¼ : [Image Gallery](./images/gallery.md)

## æ©Ÿèƒ½

- ğŸ”¤ **ãƒ†ã‚­ã‚¹ãƒˆé¸æŠç¿»è¨³**: ãƒ†ã‚­ã‚¹ãƒˆã‚’é¸æŠã™ã‚‹ã¨ç¿»è¨³ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ç¿»è¨³
- ğŸ“„ **ãƒšãƒ¼ã‚¸å…¨ä½“ç¿»è¨³**: å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ç¿»è¨³
- ğŸ“ **ã‚µã‚¤ãƒ‰ãƒãƒ¼ç¿»è¨³**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ç¿»è¨³
- âš¡ **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œ**: é•·æ–‡ã§ã‚‚é€æ¬¡è¡¨ç¤ºã§å¿«é©ã«ç¿»è¨³çµæœã‚’ç¢ºèª
- ğŸ“š **ç¿»è¨³å±¥æ­´**: éå»ã®ç¿»è¨³ã‚’ä¿å­˜ãƒ»å†åˆ©ç”¨ï¼ˆè¨­å®šç”»é¢ãƒ»ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ç¢ºèªå¯èƒ½ï¼‰
- ğŸ¨ **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ**: ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«é€£å‹•ã—ãŸãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ
- âŒ¨ï¸ **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ**: Alt+W ã§é¸æŠãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ã‚¤ãƒƒã‚¯ç¿»è¨³
- âŒ¨ï¸ **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ**: Alt+Q ã§ã‚µã‚¤ãƒ‰ãƒãƒ¼è¡¨ç¤º/éè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
- ğŸªŸ **ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**: ãƒ‰ãƒ©ãƒƒã‚°ç§»å‹•å¯èƒ½ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ä»¥å¤–ã§ã¯é–‰ã˜ãªã„è¨­è¨ˆï¼ˆè¨­å®šã§å¤–éƒ¨ã‚¯ãƒªãƒƒã‚¯ã§ã‚‚é–‰ã˜ã‚‹ã‚ˆã†ã«å¤‰æ›´å¯èƒ½ï¼‰

## å¿…è¦ç’°å¢ƒ(ä½¿ç”¨æ™‚)

- Firefox 142.0 ä»¥ä¸Š
- llama.cpp ã‚µãƒ¼ãƒãƒ¼ (OpenAIäº’æ›API)

## å¿…è¦ç’°å¢ƒ(ä¸Šè¨˜ã«åŠ ãˆã¦é–‹ç™ºæ™‚ã«å¿…è¦)

- Node.js 20.0.0 ä»¥ä¸Š
- pnpm (corepackçµŒç”±ã§æœ‰åŠ¹åŒ–)

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

[Mozilla Add-ons](https://addons.mozilla.org/ja/firefox/addon/local-translate-ai/)ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

[ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/roflsunriz/local-translate-ai/releases)ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Firefoxã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ãã€ã€Œæ‹¡å¼µæ©Ÿèƒ½ã¨ãƒ†ãƒ¼ãƒã€ã‚’é¸ã³ã€ã‚®ã‚¢ï¼ˆâš™ï¼‰ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ`.xpi`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚

### é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# corepackã‚’æœ‰åŠ¹åŒ–
corepack enable

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# é–‹ç™ºãƒ“ãƒ«ãƒ‰ï¼ˆã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼‰
pnpm dev

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
pnpm build
```

### Firefoxã¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆé–‹ç™ºç”¨ï¼‰

```bash
# web-extã§Firefoxã‚’èµ·å‹•
pnpm preview
```

ã¾ãŸã¯ã€`about:debugging` â†’ `ã“ã®Firefox` â†’ `ä¸€æ™‚çš„ãªã‚¢ãƒ‰ã‚ªãƒ³ã‚’èª­ã¿è¾¼ã‚€` ã‹ã‚‰ `dist/manifest.json` ã‚’é¸æŠã€‚

## llama.cppã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ¦‚è¦

è©³ç´°ãªæ‰‹é †ã¯ [llama-cpp.md](./llama-cpp.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ã“ã“ã§ã¯æœ€å°é™ã®æµã‚Œã ã‘è¨˜è¼‰ã—ã¾ã™ã€‚

1. [llama.cppã®Releases](https://github.com/ggml-org/llama.cpp/releases) ã‹ã‚‰ãŠä½¿ã„ã®ç’°å¢ƒã«åˆã£ãŸã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€å±•é–‹ã—ã¦ `llama-server` (Windowsã¯ `llama-server.exe`) ã‚’å–å¾—ã™ã‚‹ã€‚GPUåˆ©ç”¨æ™‚ã¯CUDAå¯¾å¿œãƒ“ãƒ«ãƒ‰ã‚’é¸æŠã€‚
2. å±•é–‹å…ˆç›´ä¸‹ã« `models` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€Hugging Face Hub ã‹ã‚‰ `plamo-2-translate.Q4_K_M.gguf` ã‚’é…ç½®ã™ã‚‹ã€‚
3. ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹ï¼ˆãƒãƒ¼ãƒˆã‚„ãƒ‘ã‚¹ã¯ç’°å¢ƒã«åˆã‚ã›ã¦èª¿æ•´ï¼‰ã€‚
   ```bash
   # macOS / Linux / Windows(ãƒ“ãƒ«ãƒ‰ã—ãŸå ´åˆ)
   ./llama-server -m ./models/plamo-2-translate.Q4_K_M.gguf --port 3002 --host 0.0.0.0 -c 4096
   # Windowsã§é…å¸ƒãƒã‚¤ãƒŠãƒªã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã®ä¸€ä¾‹ï¼ˆmodelsã‚’ä¸Šã®éšå±¤ã«ç½®ã„ãŸå ´åˆï¼‰
   ./llama-server.exe -m ../models/plamo-2-translate.Q4_K_M.gguf --port 3002 --host 0.0.0.0 -c 4096
   ```
4. æ‹¡å¼µæ©Ÿèƒ½ã®è¨­å®šã§APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ `http://localhost:3002/v1/chat/completions` ã«è¨­å®šã—ã€ãƒ¢ãƒ‡ãƒ«åã« `plamo-2-translate-gguf` ã‚’æŒ‡å®šã™ã‚‹ã€‚

## è¨­å®š

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š

| é …ç›® | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | å‚™è€ƒ |
|------|-------------|------|
| APIç¨®åˆ¥ | OpenAIäº’æ› | Anthropic Messages API ã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã¯è¨­å®šã‹ã‚‰åˆ‡ã‚Šæ›¿ãˆã¦ãã ã•ã„ã€‚ |
| APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | `http://localhost:3002/v1/chat/completions` | OpenRouterã‚„Cerebrasãªã©ã®OpenAIäº’æ›APIã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ |
| APIã‚­ãƒ¼ | `test` | ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯APIã‚­ãƒ¼ã¯ä¸è¦ã§ã™ãŒã€ã‚¯ãƒ©ã‚¦ãƒ‰ç¿»è¨³ã™ã‚‹å ´åˆã¯å¿…é ˆã§ã™ã€‚ |
| ãƒ¢ãƒ‡ãƒ« | `plamo-2-translate-gguf` | ç¿»è¨³ãƒ¢ãƒ‡ãƒ«ã®åå‰ã‚’è¨­å®šã—ã¾ã™ã€‚llama.cppã®åå‰ã¨åˆã‚ã›ã¦ãã ã•ã„ã€‚ã‚¯ãƒ©ã‚¦ãƒ‰ç¿»è¨³ã™ã‚‹å ´åˆã¯ãƒ¢ãƒ‡ãƒ«åã®æŒ‡å®šã‚’è¡Œã„ã¾ã™ã€‚ä¾‹:`tngtech/deepseek-r1t2-chimera:free`ã‚„`zai-glm-4.6`ãªã© |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | 600ç§’ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯10åˆ†ã§ä¸­æ­¢ã€‚ |
| ã‚½ãƒ¼ã‚¹è¨€èª | è‡ªå‹•æ¤œå‡º | ç¿»è¨³å…ƒã®è¨€èªã§ã™ã€‚ |
| ã‚¿ãƒ¼ã‚²ãƒƒãƒˆè¨€èª | Japanese | ç¿»è¨³å…ˆè¨€èªã§ã™ã€‚ |
| ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | çœç•¥ | AIãƒ¢ãƒ‡ãƒ«ã«è¨­å®šã™ã‚‹å½¹å‰²ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼å°‚é–€å®¶ã§ã™ã€‚ |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | çœç•¥ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯PLaMoå°‚ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ |

### llama.cppã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•ä¾‹

```bash
# PLaMo-2-Translateãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
./llama-server -m plamo-2-translate.gguf --port 3002 --host 0.0.0.0
```

### Anthropic Messages APIã‚’ä½¿ã†å ´åˆ

1. è¨­å®š > API ã§ã€ŒAPIç¨®åˆ¥ã€ã‚’ã€ŒAnthropic Messages APIã€ã«å¤‰æ›´ã™ã‚‹
2. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ `https://api.anthropic.com/v1/messages` ã«è¨­å®šã™ã‚‹
3. Anthropicã®APIã‚­ãƒ¼ã‚’å…¥åŠ›ã™ã‚‹
4. ãƒ¢ãƒ‡ãƒ«åã« `claude-4-5-sonnet-latest` ãªã©åˆ©ç”¨ã—ãŸã„Claudeãƒ¢ãƒ‡ãƒ«ã‚’æŒ‡å®šã™ã‚‹

## é–‹ç™º

### ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

```bash
# é–‹ç™ºãƒ“ãƒ«ãƒ‰ï¼ˆã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼‰
pnpm dev

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
pnpm build

# Firefoxã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
pnpm preview

# ãƒªãƒ³ãƒˆ
pnpm lint

# å‹ãƒã‚§ãƒƒã‚¯
pnpm type-check

# ãƒ†ã‚¹ãƒˆ
pnpm test
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
src/
â”œâ”€â”€ background/     # Background Script
â”œâ”€â”€ components/     # å…±é€šReactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ content/        # Content Script
â”œâ”€â”€ hooks/          # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”œâ”€â”€ i18n/           # å›½éš›åŒ–ãƒªã‚½ãƒ¼ã‚¹
â”œâ”€â”€ options/        # è¨­å®šç”»é¢UIï¼ˆReactï¼‰
â”œâ”€â”€ services/       # APIé€šä¿¡ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç­‰
â”œâ”€â”€ sidebar/        # ã‚µã‚¤ãƒ‰ãƒãƒ¼UIï¼ˆReactï¼‰
â”œâ”€â”€ stores/         # Zustand stores
â”œâ”€â”€ styles/         # ã‚°ãƒ­ãƒ¼ãƒãƒ«CSS
â”œâ”€â”€ types/          # TypeScriptå‹å®šç¾©
â”œâ”€â”€ utils/          # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â””â”€â”€ vite.config.ts  # Viteè¨­å®š
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## è²¢çŒ®

Issueãƒ»Pull Requestã¯ã„ã¤ã§ã‚‚æ­“è¿ã—ã¾ã™ã€‚

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. Pull Requestã‚’ä½œæˆ

